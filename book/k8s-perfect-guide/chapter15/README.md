# 컨테이너 로그 집계
쿠버네티스는 표준 출력과 표준 에러 출력으로 출력된 로그를 kubectl logs 명령어로 표시할 수 있는 구조로 되어 있기 때문에 컨테이너에서 기동하는 애플리케이션은 기본적으로 표준 출력과 표준 에러 출력으로 로그를 출력하도록 해야 한다.

## fluentd

- 쿠버네티스와 마찬가지로 CNCF가 호스트하는 프로젝트
- recommendation

DaemonSet을 사용하여 각 노드에 플루언트디 파드를 한 대씩 기동하는 방법으로 구성  
각 노드의 플루언트디 파드는 같은 노드에 실행 중인 모든 컨테이너의 로그(/var/log/containers/)를 수집하여 전송한다.

> 파드가 로그를 전송하는 방식이 아니기 때문에 파드는 로그를 전송할 컨테이너에 대해 특별한 설정이 필요하지 않다

### 로그 저장소
로그를 플루언트디로 집계한 후에는 영구적으로 저장하기 위해 외부 로그 저장 서비스 등으로 로그를 전송해야 한다.  
플루언트디를 경유하여 전송하는 것에 대해서는 플루언트디가 [공식적](https://github.com/fluent/fluentd-kubernetes-daemonset) 으로 몇 가지 목적지용 도커 이미지를 제공하고 있다.
